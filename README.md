controller-runtime-envtest-k3s
==============================

A drop in replacement for https://sigs.k8s.io/controller-runtime/pkg/envtest using https://k3s.io

## Why?

* Lesss CPU and Memory overhead
* Provides a full Kubernetes environment for full end-to-end tests (eg. Nodes provided)

## Usage

The following example is taking an autogenerated test suite from the [Kubebuilder](https://book.kubebuilder.io) project and converting it to use K3s as it's test Kubernetes cluster.

Can you spot the difference? :)

Before                      |  After
:--------------------------:|:--------------------------:
![before](/docs/before.png) | ![after](/docs/after.png)

## Thankyou

This project is standing on the shoulders of giants.

* [K3s](https://k3s.io) - Amazing project which makes it super easy to spin up Kubernetes environments.
* [envtest](https://sigs.k8s.io/controller-runtime/pkg/envtest)
